
# Prefix: ctrl-a
unbind-key C-b
set-option -g prefix C-a
bind-key C-a send-prefix

# Reduce escape delay (default 500ms) so Escape passes through instantly
set -sg escape-time 10

# Edit/reload Config
bind-key r source-file ~/.tmux.conf \; display-message "~/.tmux.conf reloaded"

# Window numbering
set -g base-index 1
set -g renumber-windows on

# Window navigation
bind-key j next-window
bind-key k previous-window

# Mouse — scroll wheel moves viewport, auto-exits copy mode at bottom
set -g mouse on
set -g mode-keys vi

# Terminal
set -g default-terminal "tmux-256color"
set -as terminal-overrides ',xterm*:sitm=\E[3m'
set -s extended-keys on
set -as terminal-features ',tmux-256color:extkeys'
set -as terminal-features ',xterm-ghostty:hyperlinks'

# ─── Theme ───────────────────────────────────────────────────

# Colors
%hidden BG="#1a1b26"
%hidden FG="#a9b1d6"
%hidden ACCENT="#7aa2f7"
%hidden MUTED="#565f89"
%hidden GREEN="#9ece6a"
%hidden YELLOW="#e0af68"
%hidden RED="#f7768e"
%hidden BG_LIGHT="#24283b"

# Status bar
set -g status-style "bg=#{BG},fg=#{FG}"
set -g status-position bottom
set -g status-justify left
set -g status-left-length 30
set -g status-right-length 70

# Left: session name
set -g status-left "#[fg=#{BG},bg=#{ACCENT},bold]  #S #[fg=#{ACCENT},bg=#{BG},nobold] "

# Right: agent status + date + time
set -g status-right "#(~/.claude/scripts/tmux-agent-status) #[fg=#{MUTED}]%b %d  %H:%M "
set -g status-interval 5

# Window tabs — colors live in styles (not format strings) so bauble can override
set -g window-status-style "fg=#{MUTED}"
set -g window-status-format " #I #W "
set -g window-status-current-style "fg=#{ACCENT},bg=#{BG_LIGHT},bold,underscore,overline"
set -g window-status-current-format " #I #W "
set -g window-status-separator ""


# Pane borders
set -g pane-border-style "fg=#{MUTED}"
set -g pane-active-border-style "fg=#{ACCENT}"

# Message/command bar
set -g message-style "bg=#{BG_LIGHT},fg=#{ACCENT}"
set -g message-command-style "bg=#{BG_LIGHT},fg=#{ACCENT}"

# Mode (copy-mode highlight)
set -g mode-style "bg=#{ACCENT},fg=#{BG}"

# Window activity
set -g window-status-activity-style "fg=#{GREEN},bold"

# ─── Bauble ───────────────────────────────────────────────
# Agent session UX: keybindings, pane tint, bell override, window-name lock
source-file ~/Code/ClaudeUtils/bauble/tmux/bauble.tmux.conf
